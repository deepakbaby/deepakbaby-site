{{ $companies := site.Data.en.sections.experiences.experiences }}
<section id="experience" class="container mx-auto px-6 relative">
    <div class="absolute inset-0 bg-[url('/images/grid.svg')] opacity-5 pointer-events-none"></div>

    <h2 class="text-4xl md:text-6xl font-bold mb-16 text-center text-white relative z-10">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-green-400">Experience</span>
    </h2>

    <div class="relative max-w-5xl mx-auto space-y-8 z-10">
        <!-- Vertical Line -->
        <div
            class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-500/20 via-blue-500/50 to-blue-500/20 hidden md:block">
        </div>

        {{ range $index, $element := $companies }}
        <div
            class="relative flex flex-col md:flex-row items-center {{ if modBool $index 2 }}md:flex-row-reverse{{ end }} gap-8 group">
            <!-- Timeline Dot -->
            <div
                class="absolute left-4 md:left-1/2 w-4 h-4 -translate-x-1/2 bg-gray-900 border-2 border-blue-500 rounded-full z-20 group-hover:scale-125 group-hover:bg-blue-500 transition-all duration-300 hidden md:block shadow-[0_0_10px_rgba(59,130,246,0.5)]">
            </div>

            <!-- Content Card -->
            <div
                class="w-full md:w-5/12 ml-10 md:ml-0 bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 hover:border-blue-500/50 transition-all duration-300 hover:shadow-2xl hover:bg-white/10 hover:-translate-y-1">
                <div class="flex flex-col mb-4">
                    <h3 class="text-2xl font-bold text-white mb-1">{{ .company.name }}</h3>
                    <div class="flex flex-wrap gap-2 mb-2">
                        {{ if .positions }}
                        <span
                            class="text-xs font-mono text-blue-300 bg-blue-900/30 px-2 py-0.5 rounded border border-blue-500/20">
                            {{ (index .positions 0).startDate }} - {{ (index .positions 0).endDate | default "Present"
                            }}
                        </span>
                        {{ end }}
                    </div>
                </div>

                {{ range .positions }}
                <div class="prose prose-invert prose-sm">
                    <div class="font-semibold text-lg text-gray-200">{{ .designation }}</div>
                    <div class="text-xs text-gray-500 mb-2 uppercase tracking-wide">{{ .location }}</div>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        {{ .summary | markdownify | truncate 200 }}
                    </p>
                </div>
                {{ end }}
            </div>
        </div>
        {{ end }}
    </div>
</section>