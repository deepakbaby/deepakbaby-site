<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Kaldi on Deepak Baby</title><link>https://deepakbaby.in/tags/kaldi/</link><description>Recent content in Kaldi on Deepak Baby</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 21 May 2019 13:51:12 +0200</lastBuildDate><atom:link href="https://deepakbaby.in/tags/kaldi/index.xml" rel="self" type="application/rss+xml"/><item><title>Installing Kaldi with MKL support without root access</title><link>https://deepakbaby.in/posts/kaldi-mkl/</link><pubDate>Tue, 21 May 2019 13:51:12 +0200</pubDate><guid>https://deepakbaby.in/posts/kaldi-mkl/</guid><description>&lt;p>Kaldi has recently switched to Intel Math Kernel Libraries (MKL) for linear algebra operations (as of April 2019). However, installing MKL (by running &lt;code>tools/extras/install_mkl.sh&lt;/code>) requires root access. This post details how kaldi (with MKL) can be installed without root access.&lt;/p>
&lt;ol>
&lt;li>Download &lt;a href="https://kaldi-asr.org/doc/install.html">Kaldi&lt;/a>&lt;/li>
&lt;li>Download the MKL standalone installer from &lt;a href="https://software.intel.com/en-us/mkl/choose-download/linux">here&lt;/a>.
&lt;ul>
&lt;li>Extract the contents and launch the installer by running &lt;code>install.sh&lt;/code>.&lt;/li>
&lt;li>When asked for the path to install, specify a location where you have write access (e.g., &lt;code>/home/&amp;lt;username&amp;gt;/intel&lt;/code>)&lt;/li>
&lt;li>Complete the installation of MKL libraries&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Navigate to the kaldi folder &lt;code>kaldi/tools&lt;/code>&lt;/li>
&lt;li>Typically the first step is to run &lt;code>extras/check_dependencies.sh&lt;/code>. This will complain about the missing MKL libraries. This is because the script expects the MKL libraries to be located under &lt;code>/opt/intel&lt;/code> directory. As of now (May 2019), there is no option to pass the &lt;code>mkl-root&lt;/code> directory to this script. Therefore we will edit the &lt;code>extras/check_dependencies.sh&lt;/code> script by changing &lt;code>/opt/intel/mkl/include/mkl.h&lt;/code> to &lt;code>/home/&amp;lt;username&amp;gt;/intel/mkl/include/mkl.h&lt;/code>. Then running &lt;code>extras/check_dependencies.sh&lt;/code> should work fine without any MKL related warnings.&lt;/li>
&lt;li>Then run &lt;code>make -j &amp;lt;numcpu&amp;gt;&lt;/code> to install the tools required by kaldi&lt;/li>
&lt;li>Navigate to the &lt;code>kaldi/src&lt;/code> folder.&lt;/li>
&lt;li>Run &lt;code>./configure&lt;/code> with the &lt;code>--mkl-root&lt;/code> option.
&lt;pre tabindex="0">&lt;code>./configure --shared --mkl-root=/home/&amp;lt;username&amp;gt;/intel/mkl
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>Then install kaldi using the usual steps
&lt;pre tabindex="0">&lt;code>make depend -j &amp;lt;numcpu&amp;gt; 
make -j &amp;lt;numcpu&amp;gt;
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;p>This will install Kaldi with MKL support without requiring any root privileges.&lt;/p></description></item><item><title>Training kaldi models with custom features</title><link>https://deepakbaby.in/posts/kaldi-custom-features/</link><pubDate>Wed, 06 Mar 2019 12:30:39 +0100</pubDate><guid>https://deepakbaby.in/posts/kaldi-custom-features/</guid><description>&lt;p>&lt;a href="https://github.com/kaldi-asr/kaldi">Kaldi Speech Recognition Toolkit&lt;/a> is a freely available toolkit that offers several tools for conducting research on automatic speech recognition (ASR). It lets us train an ASR system from scratch all the way from the feature extraction (MFCC,FBANK, ivector, FMLLR,&amp;hellip;), GMM and DNN acoustic model training, to the decoding using advanced language models, and produce state-of-the-art results.&lt;/p>
&lt;p>While kaldi offers so much flexibilty at every stage, sometimes we also need to play with features that are not offered by the kaldi repository. Kaldi makes use of ark format to store the features. If we want to perform experiments with customized features, they must be converted to the ark format first. The goal of this post is to explain how we can extract and store the custom features in the ark format using matlab and python.&lt;/p></description></item></channel></rss>