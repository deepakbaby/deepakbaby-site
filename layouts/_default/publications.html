{{ define "main" }}
<!-- This is needed for the baseof template -->
{{ end }}

{{ define "navbar" }}
{{ partial "navigators/modern-navbar.html" . }}
{{ end }}

{{ define "content" }}
<div class="container-fluid anchor pb-5 publications-page-section">
  <h1 class="text-center">{{ .Title }}</h1>

  <div class="profile-links text-center mt-3 mb-5">
    <a href="https://scholar.google.com/citations?hl=en&user=69q7FOYAAAAJ" target="_blank" rel="noopener"
      class="btn btn-profile btn-scholar">
      <i class="fas fa-user-graduate me-1"></i> Google Scholar
    </a>
    <a href="https://www.scopus.com/authid/detail.uri?authorId=55212989300" target="_blank" rel="noopener"
      class="btn btn-profile btn-scopus">
      <i class="fas fa-graduation-cap me-1"></i> Scopus
    </a>
    <a href="https://orcid.org/0000-0001-8935-9068" target="_blank" rel="noopener"
      class="btn btn-profile btn-orcid">
      <i class="fab fa-orcid me-1"></i> ORCID
    </a>
  </div>

  <div class="container">
    {{ .Content }}
  </div>
</div>

<style>
  .publications-page-section {
    padding-top: 8rem;
    margin-top: 0;
    min-height: 100vh;
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  }

  .publications-page-section h1 {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    font-weight: 700;
    margin-bottom: 1.5rem;
    color: var(--text-primary);
  }

  /* Profile links - neutral styling */
  .profile-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.75rem;
  }

  .btn-profile {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    font-size: 0.9rem;
    font-weight: 500;
    border-radius: 6px;
    text-decoration: none;
    transition: all 0.2s ease;
    background: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
  }

  .btn-profile:hover {
    transform: translateY(-1px);
    border-color: var(--text-secondary);
    color: var(--text-primary);
  }

  .btn-scholar:hover {
    border-color: #4285f4;
    color: #4285f4;
  }

  .btn-scopus:hover {
    border-color: #e9711c;
    color: #e9711c;
  }

  .btn-orcid:hover {
    border-color: #a6ce39;
    color: #a6ce39;
  }

  /* Override shortcode styles to match theme */
  .publications-page-section .publications-list {
    max-width: 100%;
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  }

  .publications-page-section .publication-section h2 {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    color: var(--text-primary);
    border-bottom-color: var(--border-color);
  }

  .publications-page-section .publication-item {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    transition: all 0.3s ease;
    margin-bottom: 1.5rem;
    padding: 1.5rem;
  }

  .publications-page-section .publication-item:hover {
    border-color: var(--card-hover-border);
    box-shadow: 0 10px 40px var(--card-hover-shadow);
    transform: translateY(-2px);
  }

  .publications-page-section .pub-title {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    color: var(--text-primary);
    font-weight: 600;
    font-size: 1.1rem;
  }

  .publications-page-section .pub-authors,
  .publications-page-section .pub-venue {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  }

  .publications-page-section .pub-number {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
    border-radius: 6px;
  }

  .publications-page-section .pub-links a {
    font-family: 'Mulish', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
    transition: all 0.2s;
  }

  .publications-page-section .pub-links a:hover {
    background: #3b82f6;
    color: #ffffff;
    border-color: #3b82f6;
  }

  /* Metrics badges in publication items */
  .publications-page-section .pub-metrics {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
    justify-content: flex-start;
    padding-top: 0.5rem;
  }

  /* Fix Altmetric badge visibility in dark mode */
  .publications-page-section .altmetric-embed {
    filter: none;
  }

  /* Add background to altmetric badge in dark mode for better visibility */
  html[data-theme="dark"] .publications-page-section .altmetric-embed {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    padding: 2px;
  }

  /* Light Mode Overrides */
  [data-theme="light"] .publications-page-section .publication-item {
    background: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }

  @media (max-width: 640px) {
    .profile-links {
      gap: 0.5rem;
    }
    
    .btn-profile {
      padding: 0.4rem 0.8rem;
      font-size: 0.85rem;
    }
  }
</style>
{{ end }}
