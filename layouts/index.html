{{ define "content" }}
<div class="homepage-wrapper">
    <!-- Hero Section -->
    <div class="section-wrapper">
        {{ partial "hero.html" . }}
    </div>

    <!-- Experience Section -->
    <div class="section-wrapper">
        {{ partial "experience.html" . }}
    </div>

    <!-- Blog Posts Slide Deck -->
    <div class="section-wrapper">
        {{ partial "posts_slider.html" . }}
    </div>

    <!-- Featured Publications Section -->
    <div class="section-wrapper">
        {{ partial "featured_publications.html" . }}
    </div>

    <!-- Floating Navigation (hidden) -->
    <nav class="floating-nav" id="floatingNav">
        <a href="#hero" class="nav-dot active" data-section="hero" title="Home"></a>
        <a href="#experiences" class="nav-dot" data-section="experiences" title="Experience"></a>
        <a href="#posts" class="nav-dot" data-section="posts" title="Blog"></a>
        <a href="#publications" class="nav-dot" data-section="publications" title="Publications"></a>
    </nav>
</div>

<style>
    /* Global Theme CSS Variables */
    :root {
        --bg-primary: #0a0a0b;
        --bg-secondary: #0f0f12;
        --bg-card: rgba(255, 255, 255, 0.03);
        --text-primary: #fff;
        --text-secondary: #9ca3af;
        --text-muted: #6b7280;
        --border-color: rgba(255, 255, 255, 0.08);
        --orb-opacity: 0.5;
        --toggle-bg: rgba(255, 255, 255, 0.1);
        --toggle-border: rgba(255, 255, 255, 0.2);
        --social-bg: rgba(255, 255, 255, 0.05);
        --social-border: rgba(255, 255, 255, 0.1);
        --mouse-border: rgba(255, 255, 255, 0.2);
        --wheel-bg: rgba(255, 255, 255, 0.4);
        --card-hover-border: rgba(59, 130, 246, 0.3);
        --card-hover-shadow: rgba(59, 130, 246, 0.15);
    }

    [data-theme="light"] {
        --bg-primary: #fafbfc;
        --bg-secondary: #ffffff;
        --bg-card: transparent;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --text-muted: #94a3b8;
        --border-color: rgba(0, 0, 0, 0.06);
        --orb-opacity: 0.1;
        --toggle-bg: rgba(0, 0, 0, 0.04);
        --toggle-border: rgba(0, 0, 0, 0.08);
        --social-bg: transparent;
        --social-border: rgba(0, 0, 0, 0.1);
        --mouse-border: rgba(0, 0, 0, 0.12);
        --wheel-bg: rgba(0, 0, 0, 0.2);
        --card-hover-border: rgba(59, 130, 246, 0.3);
        --card-hover-shadow: rgba(59, 130, 246, 0.08);
        --card-bg: transparent;
        --card-border: rgba(0, 0, 0, 0.04);
        --timeline-color: #3b82f6;
        --section-bg: #ffffff;
        --glow-color: rgba(59, 130, 246, 0.08);
    }

    /* Homepage Global Styles */
    .homepage-wrapper {
        background: var(--bg-primary);
        color: var(--text-primary);
        overflow-x: hidden;
        scroll-behavior: smooth;
    }

    .section-wrapper {
        position: relative;
    }

    /* Hide floating nav - hero has its own nav now */
    .floating-nav {
        display: none;
    }

    .floating-nav.visible {
        display: none;
    }

    .nav-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid transparent;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
    }

    .nav-dot::before {
        content: attr(title);
        position: absolute;
        right: 24px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.9);
        color: #fff;
        padding: 0.5rem 0.75rem;
        border-radius: 6px;
        font-size: 0.75rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
    }

    .nav-dot:hover::before {
        opacity: 1;
    }

    .nav-dot:hover {
        background: rgba(255, 255, 255, 0.4);
    }

    .nav-dot.active {
        background: linear-gradient(135deg, #8b5cf6, #3b82f6);
        border-color: rgba(255, 255, 255, 0.3);
        box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
    }

    /* Responsive hiding for floating nav */
    @media (max-width: 1024px) {
        .floating-nav {
            display: none;
        }
    }

    /* Smooth scrolling for whole page */
    html {
        scroll-behavior: smooth;
    }

    /* Ensure body doesn't have horizontal scroll */
    body {
        overflow-x: hidden;
    }
</style>

<script>
    // Enhanced Scroll Reveal Animations
    document.addEventListener('DOMContentLoaded', function () {
        // Reveal animation on scroll
        const revealElements = document.querySelectorAll('.reveal-up, .timeline-item, .education-card, .skill-category, .project-card');

        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '-50px'
        });

        revealElements.forEach(el => revealObserver.observe(el));

        // Floating navigation
        const floatingNav = document.getElementById('floatingNav');
        const navDots = document.querySelectorAll('.nav-dot');
        const sections = document.querySelectorAll('section[id]');

        // Show/hide floating nav based on scroll position
        let lastScrollTop = 0;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset;

            // Show nav after scrolling past hero
            if (scrollTop > window.innerHeight * 0.5) {
                floatingNav?.classList.add('visible');
            } else {
                floatingNav?.classList.remove('visible');
            }

            // Update active dot based on current section
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                if (scrollTop >= sectionTop - window.innerHeight / 2) {
                    current = section.getAttribute('id');
                }
            });

            navDots.forEach(dot => {
                dot.classList.remove('active');
                if (dot.getAttribute('data-section') === current) {
                    dot.classList.add('active');
                }
            });

            lastScrollTop = scrollTop;
        });

        // Smooth scroll for nav dots
        navDots.forEach(dot => {
            dot.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = dot.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Parallax effect for orbs (hero section)
        const orbs = document.querySelectorAll('.gradient-orb');
        window.addEventListener('mousemove', (e) => {
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;

            orbs.forEach((orb, index) => {
                const speed = (index + 1) * 20;
                orb.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
            });
        });
    });
</script>
{{ end }}